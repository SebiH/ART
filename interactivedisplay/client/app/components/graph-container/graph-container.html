<div class="container-root">

    <div class="list-root"
         moveable
         (moveStart)="handleMoveStart($event)"
         (moveUpdate)="handleMoveUpdate($event)"
         (moveEnd)="handleMoveEnd($event)">

        <div class="list-container" [ngStyle]="getContainerStyle()">
            <div *ngFor="let graph of graphs; trackBy:graph?.id; let isFirst = first"
                 class="list-item"
                 [ngClass]="{ moving: graph.isPickedUp, static: !graph.isPickedUp }"
                 [ngStyle]="getStyle(graph)">

                <graph-section 
                    *ngIf="!graph.isSelected"
                    [graph]="graph"
                    (onDelete)="deleteGraph(graph, $event)"
                    (onSelect)="selectGraph(graph, $event)"
                    (onMove)="moveGraph(graph, $event)"
                    (onMoveDown)="handleMoveDown(graph)"
                    (onMoveUp)="handleMoveUp(graph)">
                </graph-section>

                <div class="accordion open"
                    *ngIf="graph.isSelected">
                    <graph-detail
                        [graph]="graph"
                        (onClose)="deselectGraph(graph)">
                    </graph-detail>
                </div>

            </div>
        </div>
    </div>

    <div class="graph-creation-button"
        moveable
        (moveStart)="handleCreateStart($event)"
        (moveUpdate)="handleCreateUpdate($event)"
        (moveEnd)="handleCreateEnd($event)">
        <span>+</span>
    </div>
</div>
